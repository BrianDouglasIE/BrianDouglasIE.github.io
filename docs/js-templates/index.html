<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>

    <!-- Meta Description -->
    <meta name="description" content="Template strings as a view engine"/>

    <!-- Keywords -->
    <meta name="keywords" content="Brian Douglas, blog, js"/>

    <!-- Author -->
    <meta name="author" content="Brian Douglas"/>

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website"/>
    <meta property="og:title" content="BrianDouglas.ie - Template strings as a view engine"/>
    <meta property="og:description" content="Template strings as a view engine"/>
    <meta property="og:url" content="https://www.briandouglas.ie"/>
    <meta property="og:image" content="http://www.briandouglas.ie/images/og-images/js-templates.png"/>
    <meta property="og:image:type" content="image/png"/>
    <meta property="og:image:width" content="1280"/>
    <meta property="og:image:height" content="640"/>
    <meta property="og:site_name" content="BrianDouglas.ie"/>
    <meta property="og:image:alt" content="A preview image for the post titled 'Template strings as a view engine'"/>

    <!-- Twitter Meta -->
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:site" content="@BrianDouglasIE"/>
    <meta name="twitter:title" content="BrianDouglas.ie - Template strings as a view engine"/>
    <meta name="twitter:description" content="Template strings as a view engine"/>
    <meta name="twitter:image" content="http://www.briandouglas.ie/images/og-images/js-templates.png"/>

    <!-- Canonical URL -->
    <link rel="canonical" href="https://www.briandouglas.ie"/>

    <!-- Favicon (Optional) -->
    <link rel="icon" href="https://www.briandouglas.ie/favicon.ico" type="image/x-icon"/>

    <!-- Robots -->
    <meta name="robots" content="index, follow"/>

    <!-- Favicon-->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/>
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/>
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/>
    <link rel="manifest" href="/site.webmanifest"/>

    <title>Template strings as a view engine</title>
    <link rel="stylesheet" href="/styles.css">
</head>
<body>

<div class="content">
    <header class="site-header">
    <a href="/" class="home">Brian Douglas</a>

    <a href="https://github.com/BrianDouglasIE" class="github">
        <svg
                height="32"
                aria-hidden="true"
                viewBox="0 0 24 24"
                width="32"
                data-view-component="true"
        >
            <path
                    d="M12.5.75C6.146.75 1 5.896 1 12.25c0 5.089 3.292 9.387 7.863 10.91.575.101.79-.244.79-.546 0-.273-.014-1.178-.014-2.142-2.889.532-3.636-.704-3.866-1.35-.13-.331-.69-1.352-1.18-1.625-.402-.216-.977-.748-.014-.762.906-.014 1.553.834 1.769 1.179 1.035 1.74 2.688 1.25 3.349.948.1-.747.402-1.25.733-1.538-2.559-.287-5.232-1.279-5.232-5.678 0-1.25.445-2.285 1.178-3.09-.115-.288-.517-1.467.115-3.048 0 0 .963-.302 3.163 1.179.92-.259 1.897-.388 2.875-.388.977 0 1.955.13 2.875.388 2.2-1.495 3.162-1.179 3.162-1.179.633 1.581.23 2.76.115 3.048.733.805 1.179 1.825 1.179 3.09 0 4.413-2.688 5.39-5.247 5.678.417.36.776 1.05.776 2.128 0 1.538-.014 2.774-.014 3.162 0 .302.216.662.79.547C20.709 21.637 24 17.324 24 12.25 24 5.896 18.854.75 12.5.75Z"
            ></path>
        </svg>
    </a>
</header>
    <div class="breadcrumbs">
        <a href="/">Home</a> / <span>Template strings as a view engine</span>
    </div>

    <main>
        <article class="post">
            <header>
                <h1>Template strings as a view engine</h1>
                <time datetime="17/08/2025">August 17th, 2025</time>
            </header>

            <div class="body">
                <p>Template strings in JS can be used to create a view engine without adding any extra libraries.
So if you are creating a server side js app, think before you reach for handlebars, ejs, or
god forbid pug. Not becuase those are bad, pug is, but becuase it's so easy to leverage template
strings as a view engine.</p>
<!-- more -->
<p>I'm not evening going to bother with a proposed usage or a detailed explantation of what is going,
because it's so straight forward that it would be a waste of time. Get your eyeballs on the code
below, and see for yourself.</p>
<p><magpie-trinket>Notice that he used <code>new Function</code> instead of <code>eval</code>. This means only the function body will be evaluated. It also allows for a clean way to pass vars to the view.</magpie-trinket></p>
<pre><code class="javascript language-javascript">const layoutFile = Bun.file('./app.layout.html')
const bodyFile = Bun.file('./template.html')

function compileTemplate(template, vars) {
    return new Function(...vars, `return \`${template}\``)
}

const body = compileTemplate(await bodyFile.text(), ['name', 'hobbies'])
const layout = compileTemplate(await layoutFile.text(), ['data'])

const rendereredHTML = layout({
    title:'my page', 
    body: body('brian', ['a', 'b', 'c'])
})
</code></pre>
<pre><code class="html language-html">&lt;!-- template.html --&gt;
&lt;h1&gt;Hello ${name}&lt;/h1&gt;
&lt;ul&gt;${hobbies.map(hobby =&gt; `&lt;li&gt;${hobby}&lt;/li&gt;`).join('')}&lt;/ul&gt;
</code></pre>
<pre><code class="html language-html">&lt;!-- app.layout.html --&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;${ data.title ?? 'default title'}&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        ${data.body}
    &lt;/body&gt;
&lt;/html&gt;
</code></pre>
            </div>

            <footer>
                <p><i>Until next time,</i></p>
                <p><i>Brian</i></p>
            </footer>
        </article>
    </main>

    <footer class="site-footer">
    <p>
        <small>Since August 4th, 2023. All words by Brian
            Douglas. <a href="mailto:brianwdouglas@proton.me">Have a comment?</a></small>
    </p>
</footer>

</div>

<script src="/scripts/chicken-and-magpie.js"></script>
<script src="/scripts/skip-to-section.js"></script>
<script src="/scripts/code-highlighter.js"></script>
</body>
</html>
