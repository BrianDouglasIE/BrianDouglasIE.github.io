<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>

    <!-- Meta Description -->
    <meta name="description" content="Trimming strings in c"/>

    <!-- Keywords -->
    <meta name="keywords" content="Brian Douglas, blog, c"/>

    <!-- Author -->
    <meta name="author" content="Brian Douglas"/>

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website"/>
    <meta property="og:title" content="BrianDouglas.ie - Trimming strings in c"/>
    <meta property="og:description" content="Trimming strings in c"/>
    <meta property="og:url" content="https://www.briandouglas.ie"/>
    <meta property="og:image" content="http://www.briandouglas.ie/images/og-images/trimming-strings.png"/>
    <meta property="og:image:type" content="image/png"/>
    <meta property="og:image:width" content="1280"/>
    <meta property="og:image:height" content="640"/>
    <meta property="og:site_name" content="BrianDouglas.ie"/>
    <meta property="og:image:alt" content="A preview image for the post titled 'Trimming strings in c'"/>

    <!-- Twitter Meta -->
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:site" content="@BrianDouglasIE"/>
    <meta name="twitter:title" content="BrianDouglas.ie - Trimming strings in c"/>
    <meta name="twitter:description" content="Trimming strings in c"/>
    <meta name="twitter:image" content="http://www.briandouglas.ie/images/og-images/trimming-strings.png"/>

    <!-- Canonical URL -->
    <link rel="canonical" href="https://www.briandouglas.ie"/>

    <!-- Favicon (Optional) -->
    <link rel="icon" href="https://www.briandouglas.ie/favicon.ico" type="image/x-icon"/>

    <!-- Robots -->
    <meta name="robots" content="index, follow"/>

    <!-- Favicon-->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/>
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/>
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/>
    <link rel="manifest" href="/site.webmanifest"/>

    <title>Trimming strings in c</title>
    <link rel="stylesheet" href="/styles.css">
</head>
<body>

<div class="content">
    <header class="site-header">
    <a href="/" class="home">Brian Douglas</a>

    <a href="https://github.com/BrianDouglasIE" class="github">
        <svg
                height="32"
                aria-hidden="true"
                viewBox="0 0 24 24"
                width="32"
                data-view-component="true"
        >
            <path
                    d="M12.5.75C6.146.75 1 5.896 1 12.25c0 5.089 3.292 9.387 7.863 10.91.575.101.79-.244.79-.546 0-.273-.014-1.178-.014-2.142-2.889.532-3.636-.704-3.866-1.35-.13-.331-.69-1.352-1.18-1.625-.402-.216-.977-.748-.014-.762.906-.014 1.553.834 1.769 1.179 1.035 1.74 2.688 1.25 3.349.948.1-.747.402-1.25.733-1.538-2.559-.287-5.232-1.279-5.232-5.678 0-1.25.445-2.285 1.178-3.09-.115-.288-.517-1.467.115-3.048 0 0 .963-.302 3.163 1.179.92-.259 1.897-.388 2.875-.388.977 0 1.955.13 2.875.388 2.2-1.495 3.162-1.179 3.162-1.179.633 1.581.23 2.76.115 3.048.733.805 1.179 1.825 1.179 3.09 0 4.413-2.688 5.39-5.247 5.678.417.36.776 1.05.776 2.128 0 1.538-.014 2.774-.014 3.162 0 .302.216.662.79.547C20.709 21.637 24 17.324 24 12.25 24 5.896 18.854.75 12.5.75Z"
            ></path>
        </svg>
    </a>
</header>
    <div class="breadcrumbs">
        <a href="/">Home</a> / <span>Trimming strings in c</span>
    </div>

    <main>
        <article class="post">
            <header>
                <h1>Trimming strings in c</h1>
                <time datetime="18/07/2025">July 18th, 2025</time>
            </header>

            <div class="body">
                <p>Strings in C. They are wonderfully intuitive and easy to work with <em>cough</em>.</p>
<p>No, strings in C are a nightmare. Doing simple things such as trimming the
whitespace off the start or end of a string is complicated. Because a string
is not a string it's a <code>char *</code>. Which means that if you want to do interesting
things you are going to have to get used to managing memory. Which means thinking,
and if there is one thing modern programmers hate, it's thinking.</p>
<p>Anyway, below I have added <code>ltrim_string</code>, <code>rtrim_string</code>, and <code>trim_string</code> methods.
I've made the code as readable as I can, and documented it with tests.</p>
<!-- more -->
<h2 id="code">Code</h2>
<p>The trim methods below will return an pointer to a new <code>char *</code>. So the result of
these methods will need freeing. I've opted to return a <code>nullptr</code> when the supplied
<code>char *</code> is null, or if memory allocation fails. If the string only contains whitespace,
I return an empty string.</p>
<p><magpie-trinket>
<span><strong>ltrim<em>string</strong>: removes whitespace from the start of the string.</span><br>
<span><strong>rtrim</em>string</strong>: removes whitespace from the end of the string.</span><br>
<span><strong>trim_string</strong>: removes whitespace from the start and end of the string.</span>
</magpie-trinket></p>
<pre><code class="c language-c">#include &lt;string.h&gt;
#include &lt;ctype.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;assert.h&gt;

char *empty_string()
{
  char *str = malloc(1);
  if(!str) return nullptr;
  str[0] = '\0';
  return str;
}

char *ltrim_string(char *str)
{
  if(!str) return nullptr;

  size_t len = strlen(str);
  if(!len) return empty_string();

  size_t start = 0;
  while(start &lt; len &amp;&amp; isspace(str[start])) start++;

  if(start &gt;= len) return empty_string();

  size_t new_size = len - start;
  char *result = malloc(new_size);
  if (!result) return nullptr;

  memcpy(result, str + start, new_size);
  result[new_size] = '\0';

  return result;
}

char *rtrim_string(char *str)
{
  if(!str) return nullptr;

  size_t len = strlen(str);
  if(!len) return empty_string();

  size_t end = len - 1;
  while(end &amp;&amp; isspace(str[end])) end--;

  if(0 &gt;= end) return empty_string();

  size_t new_size = end + 1;
  char *result = malloc(new_size);
  if (!result) return nullptr;

  memcpy(result, str, new_size);
  result[new_size] = '\0';

  return result;
}

char *trim_string(char *str)
{
  if (!str) return nullptr;

  size_t len = strlen(str);
  if(!len) return empty_string();

  size_t start = 0;
  while(isspace(str[start])) start++;

  size_t end = len - 1;
  if(start &gt;= end) return empty_string();
  while(end &amp;&amp; isspace(str[end])) end--;

  size_t new_size = end - start + 1;
  char *result = malloc(new_size + 1);
  if(!result) return nullptr;

  memcpy(result, str + start, new_size);
  result[new_size] = '\0';

  return result;
}

int main(void)
{
  // ltrim
  char *test_str = ltrim_string("   hello   ");
  assert(test_str &amp;&amp; 0 == strcmp("hello   ", test_str));
  free(test_str);

  test_str = ltrim_string("\r\nhello\n");
  assert(test_str &amp;&amp; 0 == strcmp("hello\n", test_str));
  free(test_str);

  // rtrim
  test_str = rtrim_string("   hello   ");
  assert(test_str &amp;&amp; 0 == strcmp("   hello", test_str));
  free(test_str);

  test_str = rtrim_string("\r\nhello\n");
  assert(test_str &amp;&amp; 0 == strcmp("\r\nhello", test_str));
  free(test_str);

  // trim
  test_str = trim_string("   hello   ");
  assert(test_str &amp;&amp; 0 == strcmp("hello", test_str));
  free(test_str);

  test_str = trim_string("\r\nhello\n");
  assert(test_str &amp;&amp; 0 == strcmp("hello", test_str));
  free(test_str);

  // empty strings
  test_str = ltrim_string("    ");
  assert(test_str &amp;&amp; 0 == strcmp("", test_str));
  free(test_str);

  test_str = ltrim_string("");
  assert(test_str &amp;&amp; 0 == strcmp("", test_str));
  free(test_str);

  test_str = rtrim_string("    ");
  assert(test_str &amp;&amp; 0 == strcmp("", test_str));
  free(test_str);

  test_str = rtrim_string("");
  assert(test_str &amp;&amp; 0 == strcmp("", test_str));
  free(test_str);

  test_str = trim_string("    ");
  assert(test_str &amp;&amp; 0 == strcmp("", test_str));
  free(test_str);

  test_str = trim_string("");
  assert(test_str &amp;&amp; 0 == strcmp("", test_str));
  free(test_str);

  assert(trim_string(nullptr) == nullptr);

  return 0;
}
</code></pre>
            </div>

            <footer>
                <p><i>Until next time,</i></p>
                <p><i>Brian</i></p>
            </footer>
        </article>
    </main>

    <footer class="site-footer">
    <p>
        <small>Since August 4th, 2023. All words by Brian
            Douglas. <a href="mailto:brianwdouglas@proton.me">Have a comment?</a></small>
    </p>
</footer>

</div>

<script src="/scripts/chicken-and-magpie.js"></script>
<script src="/scripts/skip-to-section.js"></script>
<script src="/scripts/code-highlighter.js"></script>
</body>
</html>
